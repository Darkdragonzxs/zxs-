<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZXS Iframe Viewer</title>
<style>
html, body { margin:0; height:100%; background:#000; color:white; font-family:sans-serif; display:flex; flex-direction:column; align-items:center; justify-content:center; }
iframe { width:90vw; height:80vh; border:none; border-radius:12px; margin-top:10px; }
#toolbar { margin-top:10px; display:flex; gap:10px; }
button { padding:6px 12px; border-radius:6px; border:none; cursor:pointer; }
</style>
</head>
<body>

<h1 id="gameTitle">Loading...</h1>
<iframe id="gameFrame" src=""></iframe>

<div id="toolbar">
    <button id="reloadBtn">Reload</button>
    <button id="fullscreenBtn">Fullscreen</button>
</div>

<script>
const iframe = document.getElementById('gameFrame');
const title = document.getElementById('gameTitle');

// Function to load game based on hash
function loadGameFromHash() {
    const hash = decodeURIComponent(location.hash.slice(2)); // remove "#/"
    if(hash){
        iframe.src = '/assets/games/' + hash;
        title.textContent = hash;
    } else {
        title.textContent = "No game selected";
        iframe.src = '';
    }
}

// Initial load
loadGameFromHash();

// Update when hash changes
window.addEventListener('hashchange', loadGameFromHash);

// Toolbar
document.getElementById('reloadBtn').addEventListener('click', () => {
    iframe.src = iframe.src;
});

document.getElementById('fullscreenBtn').addEventListener('click', () => {
    if(iframe.requestFullscreen) iframe.requestFullscreen();
    else if(iframe.webkitRequestFullscreen) iframe.webkitRequestFullscreen();
});
</script>

</body>
</html>
